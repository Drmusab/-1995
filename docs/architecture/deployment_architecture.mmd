```mermaid
graph TB
    %% External Users and Load Balancer
    subgraph "External Access"
        Users[ğŸ‘¥ Users<br/>Web, Mobile, API Clients]
        CDN[ğŸŒ CDN<br/>Global Content Delivery]
        WAF[ğŸ›¡ï¸ Web Application Firewall<br/>Security Protection]
        LoadBalancer[âš–ï¸ Load Balancer<br/>Traffic Distribution]
    end
    
    %% Kubernetes Cluster
    subgraph "Kubernetes Cluster"
        subgraph "Ingress Layer"
            IngressController[ğŸšª Ingress Controller<br/>NGINX/Istio]
            CertManager[ğŸ” Cert Manager<br/>SSL/TLS Automation]
        end
        
        subgraph "Application Namespace"
            subgraph "API Services"
                RestPods[ğŸ”´ REST API Pods<br/>3 replicas<br/>Auto-scaling]
                WebSocketPods[ğŸŸ¢ WebSocket Pods<br/>2 replicas<br/>Sticky sessions]
                GraphQLPods[ğŸ”µ GraphQL Pods<br/>2 replicas<br/>Auto-scaling]
            end
            
            subgraph "Core Services"
                CoreEnginePods[ğŸ§  Core Engine Pods<br/>5 replicas<br/>CPU-intensive]
                MemoryServicePods[ğŸ’¾ Memory Service Pods<br/>3 replicas<br/>Memory-intensive]
                SkillExecutorPods[âš™ï¸ Skill Executor Pods<br/>4 replicas<br/>Task-based scaling]
            end
            
            subgraph "Background Services"
                WorkflowPods[ğŸ”„ Workflow Pods<br/>2 replicas<br/>Queue-based]
                LearningPods[ğŸ“ˆ Learning Engine Pods<br/>1 replica<br/>Resource-intensive]
                ObservabilityPods[ğŸ“Š Observability Pods<br/>1 replica<br/>Monitoring]
            end
        end
        
        subgraph "Data Namespace"
            subgraph "Databases"
                PostgresCluster[ğŸ—„ï¸ PostgreSQL Cluster<br/>Primary + 2 Replicas<br/>StatefulSet]
                RedisCluster[âš¡ Redis Cluster<br/>3 Masters + 3 Replicas<br/>High Availability]
                VectorDB[ğŸ” Vector Database<br/>Pinecone/Weaviate<br/>External or Self-hosted]
            end
            
            subgraph "Storage"
                PersistentVolumes[ğŸ’¿ Persistent Volumes<br/>SSD Storage<br/>Backup & Snapshots]
                ObjectStorage[ğŸ“¦ Object Storage<br/>S3/MinIO<br/>File & Media Storage]
            end
        end
        
        subgraph "System Namespace"
            subgraph "Service Mesh"
                IstioProxy[ğŸ•¸ï¸ Istio Proxy<br/>Sidecar Pattern<br/>Traffic Management]
                ServiceDiscovery[ğŸ—ºï¸ Service Discovery<br/>Consul/Kubernetes DNS<br/>Service Registry]
            end
            
            subgraph "Monitoring Stack"
                Prometheus[ğŸ“Š Prometheus<br/>Metrics Collection<br/>Time Series DB]
                Grafana[ğŸ“ˆ Grafana<br/>Visualization<br/>Dashboards]
                Jaeger[ğŸ” Jaeger<br/>Distributed Tracing<br/>Performance Monitoring]
                AlertManager[ğŸš¨ Alert Manager<br/>Notification System<br/>Incident Response]
            end
            
            subgraph "Logging Stack"
                Fluentd[ğŸ“ Fluentd<br/>Log Collection<br/>Aggregation]
                Elasticsearch[ğŸ” Elasticsearch<br/>Log Storage<br/>Full-text Search]
                Kibana[ğŸ“Š Kibana<br/>Log Visualization<br/>Analytics]
            end
        end
    end
    
    %% External Services
    subgraph "External Services"
        subgraph "AI/ML Services"
            OpenAI[ğŸ¤– OpenAI API<br/>GPT Models<br/>External Provider]
            OllamaService[ğŸ  Ollama Service<br/>Local LLM<br/>Self-hosted]
            VectorDBExternal[ğŸ” Vector DB<br/>Pinecone/Weaviate<br/>Managed Service]
        end
        
        subgraph "Third-party APIs"
            ExternalAPIs[ğŸŒ External APIs<br/>Third-party Services<br/>Integration Points]
            PaymentGateway[ğŸ’³ Payment Gateway<br/>Billing & Subscriptions<br/>Stripe/PayPal]
            EmailService[ğŸ“§ Email Service<br/>Notifications<br/>SendGrid/SES]
        end
    end
    
    %% Development and CI/CD
    subgraph "DevOps Pipeline"
        subgraph "Source Control"
            GitRepo[ğŸ“š Git Repository<br/>Source Code<br/>Version Control]
            DockerRegistry[ğŸ“¦ Docker Registry<br/>Container Images<br/>Private Registry]
        end
        
        subgraph "CI/CD Pipeline"
            CI[ğŸ”§ Continuous Integration<br/>GitHub Actions/Jenkins<br/>Build & Test]
            CD[ğŸš€ Continuous Deployment<br/>ArgoCD/Flux<br/>GitOps]
            SecurityScan[ğŸ”’ Security Scanning<br/>SAST/DAST<br/>Vulnerability Assessment]
        end
        
        subgraph "Infrastructure as Code"
            Terraform[ğŸ—ï¸ Terraform<br/>Infrastructure Provisioning<br/>Cloud Resources]
            Helm[âš“ Helm Charts<br/>Kubernetes Deployment<br/>Package Management]
            Ansible[âš™ï¸ Ansible<br/>Configuration Management<br/>Automation]
        end
    end
    
    %% Cloud Infrastructure
    subgraph "Cloud Infrastructure"
        subgraph "Compute"
            K8sNodes[ğŸ–¥ï¸ Kubernetes Nodes<br/>Auto-scaling Groups<br/>Multi-AZ Deployment]
            GPUNodes[ğŸš€ GPU Nodes<br/>ML Workloads<br/>Specialized Instances]
        end
        
        subgraph "Network"
            VPC[ğŸŒ Virtual Private Cloud<br/>Network Isolation<br/>Security Groups]
            Subnets[ğŸ“¡ Subnets<br/>Public/Private<br/>Multi-AZ]
            NATGateway[ğŸ”„ NAT Gateway<br/>Outbound Internet<br/>Private Subnets]
        end
        
        subgraph "Security"
            IAMRoles[ğŸ” IAM Roles<br/>Access Control<br/>Least Privilege]
            Secrets[ğŸ”‘ Secrets Management<br/>AWS Secrets Manager<br/>Kubernetes Secrets]
            NetworkPolicies[ğŸ›¡ï¸ Network Policies<br/>Traffic Control<br/>Microsegmentation]
        end
    end
    
    %% Backup and Disaster Recovery
    subgraph "Backup & DR"
        BackupStorage[ğŸ’¾ Backup Storage<br/>Cross-region Backup<br/>Point-in-time Recovery]
        DRCluster[ğŸ”„ DR Cluster<br/>Disaster Recovery<br/>Standby Environment]
        MonitoringDR[ğŸ“Š DR Monitoring<br/>Health Checks<br/>Failover Automation]
    end
    
    %% Flow Connections
    Users --> CDN
    CDN --> WAF
    WAF --> LoadBalancer
    LoadBalancer --> IngressController
    
    IngressController --> RestPods
    IngressController --> WebSocketPods
    IngressController --> GraphQLPods
    
    RestPods --> CoreEnginePods
    WebSocketPods --> CoreEnginePods
    GraphQLPods --> CoreEnginePods
    
    CoreEnginePods --> MemoryServicePods
    CoreEnginePods --> SkillExecutorPods
    CoreEnginePods --> WorkflowPods
    
    MemoryServicePods --> PostgresCluster
    MemoryServicePods --> RedisCluster
    MemoryServicePods --> VectorDB
    
    CoreEnginePods --> OpenAI
    CoreEnginePods --> OllamaService
    CoreEnginePods --> ExternalAPIs
    
    %% Monitoring Connections
    RestPods -.-> Prometheus
    CoreEnginePods -.-> Prometheus
    MemoryServicePods -.-> Prometheus
    
    Prometheus --> Grafana
    Prometheus --> AlertManager
    
    RestPods -.-> Fluentd
    CoreEnginePods -.-> Fluentd
    Fluentd --> Elasticsearch
    Elasticsearch --> Kibana
    
    %% CI/CD Connections
    GitRepo --> CI
    CI --> DockerRegistry
    DockerRegistry --> CD
    CD --> IngressController
    
    Terraform --> K8sNodes
    Helm --> IngressController
    
    %% Backup Connections
    PostgresCluster -.-> BackupStorage
    RedisCluster -.-> BackupStorage
    PersistentVolumes -.-> BackupStorage
    
    %% Styling
    classDef external fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef api fill:#f1f8e9,stroke:#2e7d32,stroke-width:2px
    classDef core fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef data fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef system fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef devops fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef cloud fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    classDef backup fill:#ffebee,stroke:#d32f2f,stroke-width:2px
    
    class Users,CDN,WAF,LoadBalancer external
    class RestPods,WebSocketPods,GraphQLPods api
    class CoreEnginePods,MemoryServicePods,SkillExecutorPods core
    class PostgresCluster,RedisCluster,VectorDB data
    class Prometheus,Grafana,Jaeger,AlertManager system
    class GitRepo,CI,CD,Terraform devops
    class K8sNodes,VPC,IAMRoles cloud
    class BackupStorage,DRCluster,MonitoringDR backup
```